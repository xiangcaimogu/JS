<!DOCTYPE HTML>
<html>
<head>
<title>动态创建表格</title>
<meta charset="utf-8" />
<style>
	table{width:600px; border-collapse:collapse;
		text-align:center;
	}
	td,th{border:1px solid #ccc}
</style>

</head>
<body>
	<div id="data">
	</div>
  <script>
	var json='[{"ename":"Tom", "salary":11000, "age":25},{"ename":"John", "salary":12000, "age":28},{"ename":"Mary", "salary":15000, "age":25}]';
	var emps=eval(json);
/*	for (var i=0;i<json.length;i++){
		console.log(emps[i].ename+emps[i].salary)
		}*/
  //创建table对象
  var table=document.createElement("table");
  //创建thead对象
  var thead=document.createElement("thead");
  //将thead追加到table下
  table.appendChild(thead);
  //创建tr对象
  var tr=document.createElement("tr");
  //将tr追加到thead下
  thead.appendChild(tr);
  //遍历emps中第一个对象的所有属性
  for(var key in emps[0]){
    //创建th
    var th=document.createElement("th");
    //设置th的内容为当前属性名
    th.innerHTML=key;
    //将th添加到tr下
    tr.appendChild(th);
  }
  //创建tbody
  var tbody=document.createElement("tbody");
  //将tbody追加到table下
  table.appendChild(tbody);
  //遍历emps中每个对象
  for(var i=0;i<emps.length;i++){
    //创建tr
    var tr=document.createElement("tr");
    //将tr添加到tbody下
    tbody.appendChild(tr);
    //遍历emps中当前对象的每个属性
    for(var key in emps[i]){
      //创建td
      var td=document.createElement("td");
      //设置td的内容为当前属性值
      td.innerHTML=emps[i][key];
      //将td添加到tr下
      tr.appendChild(td);
    }
  }
  //在id为data的div下追加table
  data.appendChild(table);
  </script>
</body>
</html>
